{"version":3,"file":"pdf_counter_monitor.min.js","sources":["../src/pdf_counter_monitor.js"],"sourcesContent":["define(['jquery'], function($) {\r\n    var PdfCounterMonitor = {\r\n        courseid: null,\r\n        refreshInterval: 3000, // 3 seconds for faster updates\r\n        intervalId: null,\r\n        initialized: false,\r\n\r\n        init: function(courseid) {\r\n            // Get course ID from multiple sources, prioritizing the most reliable\r\n            this.courseid = this.getCurrentCourseId(courseid);\r\n            \r\n            if (!this.courseid || this.courseid <= 0) {\r\n                return;\r\n            }\r\n            \r\n            this.startMonitoring();\r\n            this.setupDOMObserver();\r\n            this.initialized = true;\r\n        },\r\n\r\n        getCurrentCourseId: function(providedCourseId) {\r\n            // Priority order for getting course ID:\r\n            // 1. Provided course ID parameter\r\n            // 2. From URL parameters\r\n            // 3. From page body data attributes\r\n            // 4. From M.cfg if available\r\n            \r\n            if (providedCourseId && providedCourseId > 0) {\r\n                return providedCourseId;\r\n            }\r\n            \r\n            // Try to get from URL\r\n            var urlParams = new URLSearchParams(window.location.search);\r\n            var courseIdFromUrl = urlParams.get('id');\r\n            if (courseIdFromUrl && parseInt(courseIdFromUrl) > 0) {\r\n                return parseInt(courseIdFromUrl);\r\n            }\r\n            \r\n            // Try to get from body data attributes\r\n            var bodyElement = document.querySelector('body');\r\n            if (bodyElement) {\r\n                var courseIdFromBody = bodyElement.getAttribute('data-courseid') || \r\n                                     bodyElement.getAttribute('data-course-id');\r\n                if (courseIdFromBody && parseInt(courseIdFromBody) > 0) {\r\n                    return parseInt(courseIdFromBody);\r\n                }\r\n            }\r\n            \r\n            // Try to get from page context\r\n            var pageWrapper = document.querySelector('#page-wrapper');\r\n            if (pageWrapper) {\r\n                var courseIdFromWrapper = pageWrapper.getAttribute('data-courseid');\r\n                if (courseIdFromWrapper && parseInt(courseIdFromWrapper) > 0) {\r\n                    return parseInt(courseIdFromWrapper);\r\n                }\r\n            }\r\n            \r\n            // Try from course header\r\n            var courseHeader = document.querySelector('.course-content');\r\n            if (courseHeader) {\r\n                var courseIdFromHeader = courseHeader.getAttribute('data-courseid');\r\n                if (courseIdFromHeader && parseInt(courseIdFromHeader) > 0) {\r\n                    return parseInt(courseIdFromHeader);\r\n                }\r\n            }\r\n            \r\n            // Last resort: M.cfg\r\n            if (M.cfg && M.cfg.courseid && M.cfg.courseid > 0) {\r\n                return M.cfg.courseid;\r\n            }\r\n            \r\n            // Fallback: try to extract from current URL path\r\n            var pathMatch = window.location.pathname.match(/\\/course\\/view\\.php/);\r\n            if (pathMatch && courseIdFromUrl) {\r\n                return parseInt(courseIdFromUrl);\r\n            }\r\n            \r\n            return null;\r\n        },\r\n\r\n        startMonitoring: function() {\r\n            var self = this;\r\n            // Start the background evaluation loop\r\n            self.evaluatePendingPdfs();\r\n        },\r\n\r\n        stopMonitoring: function() {\r\n            // No interval needed for background evaluation\r\n        },\r\n\r\n        // Avalia PDFs pendentes em loop via AJAX\r\n        evaluatePendingPdfs: function() {\r\n            var self = this;\r\n            // Chama ajax_eval_pdf.php até não restar pendente\r\n            function evalNext() {\r\n                $.ajax({\r\n                    url: M.cfg.wwwroot + '/blocks/pdfcounter/ajax_eval_pdf.php',\r\n                    type: 'POST',\r\n                    dataType: 'json',\r\n                    contentType: 'application/x-www-form-urlencoded',\r\n                    data: $.param({\r\n                        courseid: self.courseid,\r\n                        sesskey: M.cfg.sesskey\r\n                    }),\r\n                    success: function(response) {\r\n                        if (response.done) {\r\n                            // Todos avaliados, agora atualiza dashboard\r\n                            setTimeout(function() {\r\n                                self.refreshDashboard();\r\n                                setTimeout(self.evaluatePendingPdfs.bind(self), self.refreshInterval);\r\n                            }, 500);\r\n                        } else {\r\n                            // Avaliou um, atualiza dashboard e chama próximo\r\n                            setTimeout(function() {\r\n                                self.refreshDashboard();\r\n                                setTimeout(evalNext, 1000);\r\n                            }, 500);\r\n                        }\r\n                    },\r\n                    error: function() {\r\n                        // Em caso de erro, tenta novamente depois\r\n                        setTimeout(evalNext, self.refreshInterval);\r\n                    }\r\n                });\r\n            }\r\n            evalNext();\r\n        },\r\n\r\n        // Atualiza dashboard (só leitura)\r\n        refreshDashboard: function() {\r\n            var self = this;\r\n            $.ajax({\r\n                url: M.cfg.wwwroot + '/blocks/pdfcounter/ajax/update_dashboard.php',\r\n                type: 'POST',\r\n                dataType: 'json',\r\n                contentType: 'application/json',\r\n                data: JSON.stringify({\r\n                    courseid: self.courseid,\r\n                    sesskey: M.cfg.sesskey\r\n                }),\r\n                success: function(response) {\r\n                    if (response.status === 'ok') {\r\n                        self.updateDashboardUI(response);\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        updateDashboardUI: function(data) {\r\n                        // Atualizar mensagem de PDFs pendentes em tempo real\r\n                        var pendingCount = 0;\r\n                        if (data.pdfIssues && data.pdfIssues.length > 0) {\r\n                            data.pdfIssues.forEach(function(issue) {\r\n                                var totalTests = issue.pass_count + issue.fail_count + issue.not_tagged_count;\r\n                                var doneTests = issue.pass_count + issue.fail_count + issue.not_tagged_count;\r\n                                if (totalTests > 0 && doneTests === issue.not_tagged_count) {\r\n                                    pendingCount++;\r\n                                }\r\n                            });\r\n                        }\r\n                        var pendingMsg = document.getElementById('pdf-pending-msg');\r\n                        if (pendingMsg) {\r\n                            if (pendingCount > 0) {\r\n                                pendingMsg.innerHTML = '⚠️ Ainda faltam ' + pendingCount + ' PDF(s) para avaliar nesta página.';\r\n                                pendingMsg.style.display = '';\r\n                            } else {\r\n                                pendingMsg.innerHTML = '';\r\n                                pendingMsg.style.display = 'none';\r\n                            }\r\n                        }\r\n            // LOG: Enviar pdfIssues para backend debug\r\n            try {\r\n                $.ajax({\r\n                    url: M.cfg.wwwroot + '/blocks/pdfcounter/ajax/log_pdf_issues.php',\r\n                    type: 'POST',\r\n                    dataType: 'json',\r\n                    contentType: 'application/json',\r\n                    data: JSON.stringify({\r\n                        pdfIssues: data.pdfIssues,\r\n                        courseid: data.courseid || (window.M && M.cfg && M.cfg.courseid ? M.cfg.courseid : null)\r\n                    })\r\n                });\r\n            } catch (e) {\r\n                // Ignore log errors\r\n            }\r\n\r\n            // ...existing code...\r\n            var overallElement = $('#overall-accessibility-value');\r\n            if (overallElement.length) {\r\n                overallElement.text(data.overallProgress + '%');\r\n                var color = '#000000ff';\r\n                overallElement.css('color', color);\r\n            }\r\n\r\n            var progressBar = $('.pdf-counter-progress-bar');\r\n            if (progressBar.length) {\r\n                progressBar.attr('value', data.overallProgress);\r\n                var progressColor = data.overallProgress >= 80 ? '#28a745' : \r\n                                   (data.overallProgress >= 50 ? '#ffc107' : '#dc3545');\r\n                progressBar.css('--progress-color', progressColor);\r\n            }\r\n\r\n            this.updatePdfIssues(data.pdfIssues);\r\n            this.updateHistoricalChart(data.overallProgress);\r\n            var totalElement = $('.total-pdfs-count');\r\n            if (totalElement.length) {\r\n                totalElement.text(data.totalPdfs + ' PDFs');\r\n            }\r\n        },\r\n\r\n        updatePdfIssues: function(pdfIssues) {\r\n            var issuesList = $('#pdf-issues-list tbody');\r\n            if (!issuesList.length) return;\r\n\r\n            if (!pdfIssues || pdfIssues.length === 0) {\r\n                issuesList.html('<tr><td colspan=\"2\" style=\"text-align: center; color: #28a745; font-style: italic; padding: 15px;\">No PDF accessibility issues found.</td></tr>');\r\n                return;\r\n            }\r\n\r\n            // Ordena os PDFs do maior para o menor ratio de falhas\r\n            pdfIssues.sort(function(a, b) {\r\n                var applicableA = (a.pass_count || 0) + (a.fail_count || 0) + (a.not_tagged_count || 0);\r\n                var applicableB = (b.pass_count || 0) + (b.fail_count || 0) + (b.not_tagged_count || 0);\r\n                var failedA = (a.fail_count || 0) + (a.not_tagged_count || 0);\r\n                var failedB = (b.fail_count || 0) + (b.not_tagged_count || 0);\r\n                var ratioA = applicableA > 0 ? failedA / applicableA : 0;\r\n                var ratioB = applicableB > 0 ? failedB / applicableB : 0;\r\n                if (ratioB === ratioA) {\r\n                    return failedB - failedA;\r\n                }\r\n                return ratioB - ratioA;\r\n            });\r\n\r\n            var html = '';\r\n            var self = this;\r\n            pdfIssues.forEach(function(pdf) {\r\n                var applicableTests = pdf.pass_count + pdf.fail_count + pdf.not_tagged_count;\r\n                var failedTests = pdf.fail_count + pdf.not_tagged_count;\r\n                var downloadUrl = M.cfg.wwwroot + '/blocks/pdfcounter/download_report.php?filename=' + encodeURIComponent(pdf.filename) + '&courseid=' + self.courseid;\r\n                html += '<tr><td colspan=\"1\" style=\"padding:0;\">';\r\n                html += '<div class=\"parent\" style=\"display:grid; grid-template-columns:1fr; grid-template-rows:repeat(3,1fr); grid-column-gap:0; grid-row-gap:0;\">';\r\n                html += '<div class=\"div1\" style=\"grid-area:1/1/2/2; align-self:start; font-size:1em;\">' + pdf.filename + '</div>';\r\n                html += '<div class=\"div2\" style=\"grid-area:2/1/3/2; align-self:start; text-align:left; font-weight:bold; font-size:1.1em;\">' + failedTests + ' of ' + applicableTests + ' tests failed</div>';\r\n                html += '<div class=\"div3\" style=\"grid-area:3/1/4/2; text-align:right;\">';\r\n                html += '<a href=\"' + downloadUrl + '\" target=\"_blank\" style=\"color:#1976d2; text-decoration:underline; font-size:0.95em; display:inline-flex; align-items:center; gap:4px;\">';\r\n                html += '<i class=\"fa fa-download\" aria-hidden=\"true\" style=\"color:#1976d2;\"></i> Download Report';\r\n                html += '</a>';\r\n                html += '</div>';\r\n                html += '</div>';\r\n                html += '</td></tr>';\r\n            });\r\n\r\n            issuesList.html(html);\r\n        },\r\n\r\n        updateHistoricalChart: function(currentProgress) {\r\n            // Check if Chart.js is available and chart exists\r\n            if (typeof Chart !== 'undefined' && window.progressChart) {\r\n                // Get current month\r\n                var currentMonth = new Date().toISOString().slice(0, 7); // Format: YYYY-MM\r\n                \r\n                // Get current data\r\n                var chart = window.progressChart;\r\n                var labels = chart.data.labels;\r\n                var data = chart.data.datasets[0].data;\r\n                \r\n                // Update or add current month data\r\n                var monthIndex = labels.indexOf(currentMonth);\r\n                if (monthIndex !== -1) {\r\n                    // Update existing month\r\n                    data[monthIndex] = currentProgress;\r\n                } else {\r\n                    // Add new month\r\n                    labels.push(currentMonth);\r\n                    data.push(currentProgress);\r\n                    \r\n                    // Keep only last 6 months\r\n                    if (labels.length > 6) {\r\n                        labels.shift();\r\n                        data.shift();\r\n                    }\r\n                }\r\n                \r\n                // Update the chart\r\n                chart.update();\r\n            }\r\n        },\r\n\r\n        setupDOMObserver: function() {\r\n            var self = this;\r\n            \r\n            // Watch for changes in course content area\r\n            var targetNode = document.querySelector('#region-main');\r\n            if (!targetNode) return;\r\n\r\n            var observer = new MutationObserver(function(mutations) {\r\n                var shouldRefresh = false;\r\n                \r\n                mutations.forEach(function(mutation) {\r\n                    if (mutation.type === 'childList') {\r\n                        // Check if any activity elements were added or removed\r\n                        mutation.addedNodes.forEach(function(node) {\r\n                            if (node.nodeType === Node.ELEMENT_NODE) {\r\n                                if (node.classList.contains('activity') || \r\n                                    node.querySelector('.activity') ||\r\n                                    node.classList.contains('resource') ||\r\n                                    node.querySelector('.resource') ||\r\n                                    node.classList.contains('activityinstance') ||\r\n                                    node.querySelector('.activityinstance')) {\r\n                                    shouldRefresh = true;\r\n                                }\r\n                            }\r\n                        });\r\n                        \r\n                        mutation.removedNodes.forEach(function(node) {\r\n                            if (node.nodeType === Node.ELEMENT_NODE) {\r\n                                if (node.classList.contains('activity') || \r\n                                    node.querySelector('.activity') ||\r\n                                    node.classList.contains('resource') ||\r\n                                    node.querySelector('.resource') ||\r\n                                    node.classList.contains('activityinstance') ||\r\n                                    node.querySelector('.activityinstance')) {\r\n                                    shouldRefresh = true;\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n                if (shouldRefresh) {\r\n                    // Add a delay to allow DB operations to complete\r\n                    setTimeout(function() {\r\n                        self.refreshDashboard();\r\n                    }, 2000);\r\n                }\r\n            });\r\n\r\n            observer.observe(targetNode, {\r\n                childList: true,\r\n                subtree: true\r\n            });\r\n        },\r\n\r\n        destroy: function() {\r\n            this.stopMonitoring();\r\n            this.initialized = false;\r\n        }\r\n    };\r\n\r\n    return {\r\n        init: function(courseid) {\r\n            PdfCounterMonitor.init(courseid);\r\n        },\r\n        \r\n        destroy: function() {\r\n            PdfCounterMonitor.destroy();\r\n        }\r\n    };\r\n});"],"names":["define","$","PdfCounterMonitor","courseid","refreshInterval","intervalId","initialized","init","this","getCurrentCourseId","startMonitoring","setupDOMObserver","providedCourseId","courseIdFromUrl","URLSearchParams","window","location","search","get","parseInt","bodyElement","document","querySelector","courseIdFromBody","getAttribute","pageWrapper","courseIdFromWrapper","courseHeader","courseIdFromHeader","M","cfg","pathname","match","evaluatePendingPdfs","stopMonitoring","self","evalNext","ajax","url","wwwroot","type","dataType","contentType","data","param","sesskey","success","response","done","setTimeout","refreshDashboard","bind","error","JSON","stringify","status","updateDashboardUI","pendingCount","pdfIssues","length","forEach","issue","totalTests","pass_count","fail_count","not_tagged_count","doneTests","pendingMsg","getElementById","innerHTML","style","display","e","overallElement","text","overallProgress","css","progressBar","attr","progressColor","updatePdfIssues","updateHistoricalChart","totalElement","totalPdfs","issuesList","sort","a","b","applicableA","applicableB","failedA","failedB","ratioA","ratioB","html","pdf","applicableTests","failedTests","downloadUrl","encodeURIComponent","filename","currentProgress","Chart","progressChart","currentMonth","Date","toISOString","slice","chart","labels","datasets","monthIndex","indexOf","push","shift","update","targetNode","MutationObserver","mutations","shouldRefresh","mutation","addedNodes","node","nodeType","Node","ELEMENT_NODE","classList","contains","removedNodes","observe","childList","subtree","destroy"],"mappings":"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"}